<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="utf-8" />
  <meta name="viewport"
        content="width=device-width, initial-scale=1, minimum-scale=1, maximum-scale=1, user-scalable=no, viewport-fit=cover" />
  <title>–ü–æ–µ–∑–¥–∫–∞ - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ | RideNow</title>
  <style>
    :root{
      --ink:#eaf2ff; --muted:#a6b5cc; --stroke:rgba(255,255,255,.18);
      --glass-1:rgba(14,21,26,.55); --glass-2:rgba(14,21,26,.35);
      --g1:#ffb668; --g2:#9de9d7;
      --gutter:16px; --card-gap-bottom:12px; --nav-h:92px;
      --gap:12px;
    }
    *{box-sizing:border-box}
    html,body{height:100%;margin:0}
    body{
      color:var(--ink);
      font-family:ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial;
      background:
        linear-gradient(180deg, rgba(0,0,0,.65), rgba(0,0,0,.55) 35%, rgba(0,0,0,.45) 60%, rgba(0,0,0,.55)),
        url("image.png") center/cover no-repeat fixed;
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      padding:var(--gutter);
      padding-bottom:calc(var(--gutter) + env(safe-area-inset-bottom));
      display:flex; flex-direction:column; overflow:hidden;
    }

    main.card{
      width:min(760px, calc(100vw - var(--gutter)*2));
      margin:0 auto;
      border-radius:22px; border:1px solid var(--stroke);
      background:linear-gradient(180deg,var(--glass-1),var(--glass-2));
      box-shadow:0 30px 80px rgba(0,0,0,.45), inset 0 1px 0 rgba(255,255,255,.22);
      backdrop-filter: blur(16px) saturate(140%);
      max-height:calc(100dvh - var(--nav-h) - var(--card-gap-bottom) - env(safe-area-inset-bottom));
      overflow:auto; -webkit-overflow-scrolling:touch;
    }
    .inner{ padding:16px 16px 18px }
    .brand{font-weight:900;display:flex;gap:8px;align-items:center;opacity:.95}
    .brand .dot{width:8px;height:8px;border-radius:50%;background:#58e0ff}
    h1{margin:8px 0 12px;font-size:26px;letter-spacing:.2px}

    /* –±–µ–π–¥–∂–∏ */
    .status-row{display:flex;gap:var(--gap);flex-wrap:wrap;margin:8px 0 var(--gap)}
    .sub-badges{display:flex;gap:var(--gap);flex-wrap:wrap;margin-top:8px}
    .badge{
      display:inline-grid; place-items:center;
      padding:10px 14px; border-radius:14px; font-weight:900;
      background:rgba(255,255,255,.10); border:1px solid var(--stroke);
      white-space:nowrap;
      color:var(--ink);               /* <-- —Ñ–∏–∫—Å —Ü–≤–µ—Ç–∞ */
    }
    /* —Ñ–∏–∫—Å –¥–ª—è —Å—Å—ã–ª–æ–∫-–±–µ–π–¥–∂–µ–π, —á—Ç–æ–±—ã –Ω–µ —Å–∏–Ω–µ–ª–∏/—Ñ–∏–æ–ª–µ—Ç–µ–ª–∏ */
    a.badge, a.badge:link, a.badge:visited{ color:var(--ink); text-decoration:none }
    a.badge:hover{ opacity:.95 }
    a.badge:active{ transform:translateY(1px) }

    .badge.ok{ background:linear-gradient(90deg,#ffb668,#9de9d7); color:#063d17; border:0 }
    .badge.cash{ background:linear-gradient(90deg,#ffb668,#9de9d7); color:#063d17; border:0 }

    /* —Å–µ–∫—Ü–∏–∏ */
    .block{padding:12px;border-radius:16px;border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));}
    .row{display:flex;flex-wrap:wrap;gap:var(--gap);color:var(--muted);font-weight:700}
    .row span{display:flex;align-items:center;gap:6px}
    .head{display:flex;align-items:flex-start;justify-content:space-between;gap:var(--gap);
      padding:12px;border:1px solid var(--stroke);border-radius:16px;
      background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.06));}
    /* —Å–ø–∏—Å–æ–∫ —Å–µ–∫—Ü–∏–π (–æ—Ç—Å—Ç—É–ø—ã –º–µ–∂–¥—É –∫–∞—Ä—Ç–æ—á–∫–∞–º–∏) */
.grid{
  display: grid;
  gap: var(--gap);        /* —Ç–æ—Ç –∂–µ 12px –∏–∑ :root */
  margin-top: var(--gap); /* –≤–µ—Ä—Ö–Ω–∏–π –æ—Ç—Å—Ç—É–ø –ø–µ—Ä–µ–¥ –ø–µ—Ä–≤–æ–π —Å–µ–∫—Ü–∏–µ–π */
}

      .route{font-weight:900;font-size:22px;line-height:1.25}
    .price-badge{white-space:nowrap;font-weight:900;color:#072e12;
      background:linear-gradient(90deg,#ffb668,#9de9d7);padding:8px 12px;border-radius:14px;align-self:flex-start}

    /* –≤–æ–¥–∏—Ç–µ–ª—å */
    .driver-card{display:flex;gap:var(--gap);align-items:center}
    .ava{width:56px;height:56px;border-radius:50%;overflow:hidden;background:#666;flex-shrink:0}
    .ava img{width:100%;height:100%;object-fit:cover}
    .d-info{flex:1}
    .name{display:flex;align-items:center;gap:6px;font-weight:900}
    .ver{font-size:12px;padding:2px 6px;border-radius:8px;background:linear-gradient(90deg,#ffb668,#9de9d7);color:#0b0f12;font-weight:900}
    .stars{color:#ffd479;font-size:14px}
    .car{color:#cfe3ff}

    .actions{display:flex;gap:var(--gap);margin-top:var(--gap)}
    .btn{height:44px;border-radius:12px;border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));
      color:var(--ink);font-weight:800;padding:0 14px;display:inline-grid;place-items:center;text-decoration:none}

    /* –º–∞—Ä—à—Ä—É—Ç + –∫–∞—Ä—Ç–∞ */
    .map-wrap{border:1px solid var(--stroke);border-radius:14px;overflow:hidden;margin-top:10px}
    .map-wrap iframe{width:100%;height:220px;border:0;display:block}
    .map-actions{display:flex;justify-content:flex-end;margin-top:8px}

    /* —É–¥–æ–±—Å—Ç–≤–∞ / —Ñ–æ—Ç–æ / –ø–∞—Å—Å–∞–∂–∏—Ä—ã */
    .chips{display:flex;flex-wrap:wrap;gap:8px}
    .chip{padding:6px 10px;border-radius:999px;border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.14), rgba(255,255,255,.08));
      font-size:14px;font-weight:700}
    .photos{display:grid;grid-template-columns:repeat(3,1fr);gap:8px}
    .ph{height:86px;border-radius:12px;overflow:hidden;background:#222;display:grid;place-items:center}
    .ph img{width:100%;height:100%;object-fit:cover}
    .faces{display:flex;gap:8px}
    .face{width:40px;height:40px;border-radius:50%;overflow:hidden;border:2px dashed rgba(255,255,255,.35);
      display:grid;place-items:center;background:#222;color:#9fb0c9;font-weight:900}
    .face img{width:100%;height:100%;object-fit:cover}

    /* —à—Ç–æ—Ä–∫–∏ (–∑–≤–æ–Ω–æ–∫ + —á–∞—Ç) */
    .backdrop{position:fixed;inset:0;background:rgba(0,0,0,.4);opacity:0;pointer-events:none;transition:.18s;z-index:1001}
    .backdrop.show{opacity:1;pointer-events:auto}
    .sheet{
      position:fixed;left:0;right:0;bottom:-100%;
      margin:auto;width:min(760px,96vw);z-index:1002;
      border:1px solid var(--stroke);border-radius:16px 16px 0 0;
      background:linear-gradient(180deg, rgba(20,24,32,.92), rgba(20,24,32,.88));
      box-shadow:0 -30px 80px rgba(0,0,0,.55), inset 0 1px 0 rgba(255,255,255,.22);
      backdrop-filter: blur(16px) saturate(160%);transform:translateY(12px);
      transition:bottom .22s ease, transform .22s ease;
      padding:10px 12px 12px;
    }
    .sheet.open{ bottom:0; transform:translateY(0) }
    .sheet .grip{width:56px;height:5px;border-radius:999px;background:rgba(255,255,255,.28);margin:6px auto 10px}
    .sheet .close{position:absolute;right:12px;top:10px;width:36px;height:36px;border-radius:10px;border:1px solid var(--stroke);
      background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));color:var(--ink);font-size:18px}

    .call-head{display:grid;justify-items:center;gap:12px;margin:6px 0 10px}
    .call-ava{width:84px;height:84px;border-radius:50%;overflow:hidden}
    .call-ava img{width:100%;height:100%;object-fit:cover}
    .call-name{font-weight:900}
    .call-time{opacity:.8}
    .call-actions{display:flex;gap:var(--gap);justify-content:center;margin-top:10px}
    .btn.ghost{background:linear-gradient(180deg, rgba(255,255,255,.10), rgba(255,255,255,.05));}

    .chat-title{font-weight:900;margin:4px 2px 8px}
    .bubbles{display:flex;flex-direction:column;gap:8px;height:280px;overflow:auto;padding:6px 2px;border-top:1px solid rgba(255,255,255,.12)}
    .bubble{max-width:78%;padding:8px 12px;border-radius:14px;line-height:1.25;word-wrap:break-word}
    .bubble.other{align-self:flex-start;background:linear-gradient(180deg, rgba(255,255,255,.15), rgba(255,255,255,.08)); border:1px solid var(--stroke)}
    .bubble.me{align-self:flex-end;background:linear-gradient(90deg,var(--g1),var(--g2)); color:#0b0f12; font-weight:900}
    .chat-input{display:flex;gap:var(--gap);margin-top:10px}
    .chat-input input{flex:1;height:44px;border-radius:12px;border:1px solid var(--stroke);background:linear-gradient(180deg, rgba(255,255,255,.12), rgba(255,255,255,.06));color:var(--ink);padding:0 12px}
    .chat-input button{height:44px;border-radius:12px;border:0;padding:0 14px;font-weight:900;color:#0b0f12;background:linear-gradient(90deg,var(--g1),var(--g2))}

    .bottom-shell{position:fixed;left:0;right:0;bottom:0;z-index:1000;
      padding:0 env(safe-area-inset-right) env(safe-area-inset-bottom) env(safe-area-inset-left)}
    .bottom-bar{display:flex;justify-content:space-around;background:var(--glass-2);
      border-radius:20px 20px 0 0;padding:8px;backdrop-filter:blur(12px)}
    .bn-tab{flex:1;text-align:center;color:var(--ink);font-size:12px;text-decoration:none;padding:6px 0}
    .bn-tab .ico{font-size:18px;display:block}
    .bn-tab.active{color:var(--g1)}

    @media (max-width:380px){ .ph{height:76px} }
  </style>
</head>
<body>
  <main class="card" id="card">
    <div class="inner">
      <div class="brand"><span class="dot"></span><span>RideNow</span></div>
      <h1>–ü–æ–µ–∑–¥–∫–∞</h1>

      <div class="status-row">
        <div class="badge cash">üí≥ –û–ø–ª–∞—Ç–∞ –Ω–∞–ª–∏—á–Ω—ã–º–∏ –≤–æ–¥–∏—Ç–µ–ª—é</div>
      </div>

      <div class="head">
        <div>
          <div class="route">–ö–∏–µ–≤ ‚Üí –û–¥–µ—Å—Å–∞</div>
          <div class="row" style="margin-top:6px">
            <span>‚è∞ 08:30 ‚Üí 13:15</span><span>üõ£Ô∏è 475 –∫–º</span><span>üßç 3 –º–µ—Å—Ç–∞</span><span>üìÖ 16.09.2025</span>
          </div>
          <div class="sub-badges">
            <div class="badge ok">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞</div>
            <!-- —Å—Å—ã–ª–∫–∞-–±–µ–π–¥–∂ –∫–≤–∏—Ç–∞–Ω—Ü–∏–∏ -->
            <a class="badge" href="passenger-receipt.html">–ö–≤–∏—Ç–∞–Ω—Ü–∏—è</a>
          </div>
        </div>
        <div class="price-badge">550 ‚Ç¥</div>
      </div>

      <div class="grid" style="margin-top:var(--gap)">

        <section class="block">
          <div class="driver-card">
            <div class="ava"><img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=200" alt=""></div>
            <div class="d-info">
              <div class="name">–ü–∞–≤–µ–ª <span class="ver">‚úì</span></div>
              <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
              <div class="car">Toyota Camry ‚Ä¢ AI 1234 KE</div>
            </div>
          </div>
          <div class="actions">
            <button class="btn" id="callOpen">üìû –ü–æ–∑–≤–æ–Ω–∏—Ç—å</button>
            <button class="btn" id="chatOpen">üí¨ –û—Ç–∫—Ä—ã—Ç—å —á–∞—Ç</button>
          </div>
        </section>

        <section class="block">
          <h3 style="margin:0 0 10px">–ú–∞—Ä—à—Ä—É—Ç –∏ —Ç–æ—á–∫–∏</h3>
          <div class="row">
            <span>üìç –°—Ç–∞—Ä—Ç: –ö–∏–µ–≤, –í—ã–¥—É–±–∏—á–∏</span>
            <span>üìç –§–∏–Ω–∏—à: –û–¥–µ—Å—Å–∞, –ü—Ä–∏–≤–æ–∫–∑–∞–ª—å–Ω–∞—è</span>
            <span>‚õΩ –û—Å—Ç–∞–Ω–æ–≤–∫–∞: –£–º–∞–Ω—å</span>
          </div>
          <div class="map-wrap">
            <iframe loading="lazy"
              src="https://www.google.com/maps?q=Kyiv%20to%20Odesa&output=embed"
              referrerpolicy="no-referrer-when-downgrade" aria-label="–ö–∞—Ä—Ç–∞ –º–∞—Ä—à—Ä—É—Ç–∞">
            </iframe>
          </div>
          <div class="map-actions">
            <a class="btn" id="mapOpen" target="_blank" rel="noopener">–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –Ω–∞ –∫–∞—Ä—Ç–µ</a>
          </div>
        </section>

        <section class="block">
          <h3 style="margin:0 0 10px">–£–¥–æ–±—Å—Ç–≤–∞</h3>
          <div class="chips">
            <div class="chip">üéß –ú—É–∑—ã–∫–∞</div><div class="chip">‚ùÑÔ∏è –ö–ª–∏–º–∞—Ç</div>
            <div class="chip">‚ö° –ó–∞—Ä—è–¥–∫–∞</div><div class="chip">üó£Ô∏è –ü–æ–±–æ–ª—Ç–∞–µ–º</div><div class="chip">üö≠ –ù–µ–∫—É—Ä—è—â–∏–π</div>
          </div>
        </section>

        <section class="block">
          <h3 style="margin:0 0 10px">–§–æ—Ç–æ</h3>
          <div class="photos">
            <div class="ph"><img src="https://images.unsplash.com/photo-1549924231-f129b911e442?w=400" alt=""></div>
            <div class="ph"><img src="https://images.unsplash.com/photo-1606661125322-1d66f2e7f3a7?w=400" alt=""></div>
            <div class="ph"><img src="https://images.unsplash.com/photo-1619767886558-c2b2e6d6c9f0?w=400" alt=""></div>
          </div>
        </section>

        <section class="block">
          <h3 style="margin:0 0 10px">–ü–∞—Å—Å–∞–∂–∏—Ä—ã</h3>
          <div class="faces">
            <div class="face"><img src="https://images.unsplash.com/photo-1544005313-94ddf0286df2?w=200" alt=""></div>
            <div class="face"><img src="https://images.unsplash.com/photo-1500648767791-00dcc994a43e?w=200" alt=""></div>
            <div class="face">‚Äî</div>
          </div>
        </section>

      </div>
    </div>
  </main>

  <nav class="bottom-shell" id="nav" aria-label="–ù–∞–≤–∏–≥–∞—Ü–∏—è">
    <div class="bottom-bar">
      <a class="bn-tab" href="passenger-profile.html"><div class="ico">üë§</div>–ü—Ä–æ—Ñ–∏–ª—å</a>
      <a class="bn-tab" href="passenger-wallet.html"><div class="ico">üí≥</div>–ö–æ—à–µ–ª—ë–∫</a>
      <a class="bn-tab active" href="passenger-active.html"><div class="ico">üöó</div>–ê–∫—Ç—É–∞–ª—å–Ω–∞—è</a>
      <a class="bn-tab" href="passenger-search.html"><div class="ico">üîç</div>–ü–æ–∏—Å–∫</a>
    </div>
  </nav>

  <div class="backdrop" id="backdrop"></div>

  <section class="sheet" id="sheetCall" aria-hidden="true" role="dialog" aria-label="–ó–≤–æ–Ω–æ–∫ –≤–æ–¥–∏—Ç–µ–ª—é">
    <div class="grip"></div>
    <button class="close" data-close="sheetCall">‚úï</button>
    <div class="call-head">
      <div class="call-ava"><img src="https://images.unsplash.com/photo-1599566150163-29194dcaad36?w=200" alt=""></div>
      <div class="call-name">–ü–∞–≤–µ–ª ‚Äî Toyota Camry</div>
      <div class="call-time" id="callTimer">00:00</div>
    </div>
    <div class="call-actions">
      <button class="btn ghost" data-close="sheetCall">–û—Ç–º–µ–Ω–∞</button>
      <button class="btn" data-close="sheetCall">–ó–∞–≤–µ—Ä—à–∏—Ç—å</button>
    </div>
  </section>

  <section class="sheet" id="sheetChat" aria-hidden="true" role="dialog" aria-label="–ß–∞—Ç —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º">
    <div class="grip"></div>
    <button class="close" data-close="sheetChat">‚úï</button>
    <div class="chat-title">–ß–∞—Ç —Å –≤–æ–¥–∏—Ç–µ–ª–µ–º</div>
    <div class="bubbles" id="bubbles">
      <div class="bubble other">–ó–¥—Ä–∞–≤—Å—Ç–≤—É–π—Ç–µ! –ü–æ–¥—ä–µ–¥—É –≤–æ–≤—Ä–µ–º—è üöó</div>
      <div class="bubble other">–ë—É–¥—É –Ω–∞ –í—ã–¥—É–±–∏—á–∞—Ö —É 08:25</div>
    </div>
    <div class="chat-input">
      <input id="chatText" placeholder="–ù–∞–ø–∏—à–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ‚Ä¶" autocomplete="off" />
      <button id="chatSend">–û—Ç–ø—Ä–∞–≤–∏—Ç—å</button>
    </div>
  </section>

  <script>
    (function setNavHeight(){
      const nav = document.getElementById('nav');
      const apply = ()=> document.documentElement.style.setProperty('--nav-h', (nav?.offsetHeight||92) + 'px');
      apply(); addEventListener('resize', apply);
    })();

    (function setMapLink(){
      const origin = '50.4015,30.5593';
      const dest   = '46.4825,30.7233';
      const url = `https://www.google.com/maps/dir/?api=1&origin=${encodeURIComponent(origin)}&destination=${encodeURIComponent(dest)}&travelmode=driving`;
      document.getElementById('mapOpen').href = url;
    })();

    const backdrop = document.getElementById('backdrop');
    const sheets = {
      call: document.getElementById('sheetCall'),
      chat: document.getElementById('sheetChat'),
    };
    function openSheet(which){
      Object.values(sheets).forEach(s=>{ s.classList.remove('open'); s.setAttribute('aria-hidden','true'); });
      const el = sheets[which];
      el.classList.add('open'); el.setAttribute('aria-hidden','false');
      backdrop.classList.add('show');
    }
    function closeSheet(which){
      const el = typeof which === 'string' ? sheets[which] : which;
      if (!el) return;
      el.classList.remove('open'); el.setAttribute('aria-hidden','true');
      const anyOpen = Object.values(sheets).some(s=>s.classList.contains('open'));
      if (!anyOpen) backdrop.classList.remove('show');
    }
    document.getElementById('callOpen').onclick = ()=> openSheet('call');
    document.getElementById('chatOpen').onclick = ()=> openSheet('chat');
    backdrop.addEventListener('click', ()=> { closeSheet('call'); closeSheet('chat'); });
    document.querySelectorAll('.close,[data-close]').forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.dataset.close || btn.closest('.sheet')?.id;
        if (id) closeSheet(document.getElementById(id));
      });
    });
    window.addEventListener('keydown',(e)=>{ if(e.key==='Escape'){ closeSheet('call'); closeSheet('chat'); } });

    (function callTimer(){
      let t=0, timer;
      document.getElementById('sheetCall').addEventListener('transitionend', (e)=>{
        if(e.propertyName!=='bottom') return;
        const open = e.target.classList.contains('open');
        clearInterval(timer);
        if(open){
          timer = setInterval(()=>{
            t++; const m=String(Math.floor(t/60)).padStart(2,'0'); const s=String(t%60).padStart(2,'0');
            document.getElementById('callTimer').textContent=`${m}:${s}`;
          },1000);
        } else { t=0; document.getElementById('callTimer').textContent='00:00'; }
      });
    })();

    const bubbles = document.getElementById('bubbles');
    const input = document.getElementById('chatText');
    const sendBtn = document.getElementById('chatSend');

    function addBubble(text, who){
      if(!text) return;
      const div = document.createElement('div');
      div.className = 'bubble ' + (who==='me' ? 'me' : 'other');
      div.textContent = text;
      bubbles.appendChild(div);
      bubbles.scrollTop = bubbles.scrollHeight;
    }
    sendBtn.addEventListener('click', ()=>{
      const txt = input.value.trim();
      if(!txt) return;
      addBubble(txt, 'me');
      input.value='';
      setTimeout(()=> addBubble('–û–∫, –ø—Ä–∏–Ω—è–ª üëç', 'other'), 600);
    });
    input.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); sendBtn.click(); }});
  </script>
</body>
</html>
